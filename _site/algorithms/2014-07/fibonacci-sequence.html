<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>fibonacci sequence - My study notes</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="liuguichao">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="canonical" href="/algorithms/2014-07/fibonacci-sequence.html">

  <link rel="stylesheet" href="/assets/css/style.css" media="all">

  <!-- atom & rss feed -->
  <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="My study notes RSS Feed">
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="My study notes ATOM Feed">

  <!-- fav and touch icons  -->
  <!-- Update these with your own images
  <link rel="shortcut icon" href="images/favicon.ico">
  <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

  <meta name="renderer" content="webkit|ie-stand">

  <meta name="baidu-site-verification" content="BvD3CNBzK6" />
  <meta name="msvalidate.01" content="FE0D1D87A075E1003B82C7446EE360ED" />
</head>


  <body>
    <div class="container">
      <!--[if lt IE 9]>
<div class="alert alert-warning">
  <p>Your Internet Explorer is not supported. Please upgrade your Internet Explorer to version 9+, or use latest <a href="http://www.google.com/chrome/" target="_blank" class="alert-link">Google chrome</a>、<a href="http://www.mozilla.org/firefox/" target="_blank" class="alert-link">Mozilla Firefox</a>.</p>
  <p>If you are using IE 9 or later, make sure you <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view#ie=ie-8" target="_blank" class="alert-link">turn off "Compatibility view"</a>.</p>
</div>
<![endif]-->
<header class="header">
  <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
  <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <div class="title"><a title="My study notes" href="/">My study notes</a></div>
  <ul class="nav navbar-nav collapse navbar-collapse bs-navbar-collapse navbar-right">
    <li>
    <form id="search-form" class="form-group has-success visible-lg" role="form">
      <input type="text" class="form-control input-sm" placeholder="Search" id="query">
    </form>
    </li>
    <li><a href="/archive.html" title="Archive"><span class='fa fa-archive fa-2x'></span></a></li>
    <li><a href="/categories.html" title="Categories" rel="nofollow"><span class='fa fa-navicon fa-2x'></span></a></li>
    <li><a href="/tags.html" title="Tags" rel="nofollow"><span class='fa fa-tags fa-2x'></span></a></li>
    <li><a href="/about.html" title="About"><span class='fa fa-user fa-2x'></span></a></li>
    
    <li><a href="https://github.com/liuguichao" target="_blank" title="Github" rel="nofollow"><span class='fa fa-github fa-2x'></span></a></li>
    
    
    
    
    

    <li><a href="/rss.xml" target="_blank" title="RSS" rel="nofollow"><span class='fa fa-rss fa-2x'></span></a></li>
  </ul>

  <script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</header>


      <article class="wrapper">
        <div id="search-loader" class="img-wrap">
          <div class="loading">
            <img src="/assets/img/loading.png">
          </div>
        </div>
        <div class="row clearfix">
          <div class="col-md-12">
<h2 class="title"> fibonacci sequence <time class="small">2014.07.10</time></h2>
<p>斐波那契数列，又称黄金分割数列，指的是这样一个数列：1、1、2、3、5、8、13、21、……在数学上，斐波纳契数列以如下被以递归的方法定义：F0=1，F1=1，Fn=F(n-1)+F(n-2)（n&gt;=2，n∈N*）在现代物理、准晶体结构、化学等领域，斐波纳契数列都有直接的应用。
<img src="http://i.imgur.com/BsryFKV.jpg" alt=""></p>

<p>有趣的是：这样一个完全是自然数的数列，通项公式却是用无理数来表达的。而且当n趋向于无穷大时，后一项与前一项的比值越来越逼近黄金分割0.618.（或者说后一项与前一项的比值小数部分越来越逼近黄金分割0.618、前一项与后一项的比值越来越逼近黄金分割0.618）</p>

<p>1÷1=1，1÷2=0.5，2÷3=0.666...，3÷5=0.6，5÷8=0.625，…………，55÷89=0.617977…，…………144÷233=0.618025…46368÷75025=0.6180339886…...</p>

<p>从第二项开始，每个奇数项的平方都比前后两项之积少1，每个偶数项的平方都比前后两项之积多1。[f(n)]^2-f(n-1)f(n+1)=(-1)^(n-1)</p>

<p>斐波那契数列在自然科学的其他分支，有许多应用。例如，树木的生长，由于新生的枝条，往往需要一段“休息”时间，供自身生长，而后才能萌发新枝。所以，一株树苗在一段间隔，例如一年，以后长出一条新枝；第二年新枝“休息”，老枝依旧萌发；此后，老枝与“休息”过一年的枝同时萌发，当年生的新枝则次年“休息”。这样，一株树木各个年份的枝桠数，便构成斐波那契数列。这个规律，就是生物学上著名的“鲁德维格定律”。
另外，观察延龄草、野玫瑰、南美血根草、大波斯菊、金凤花、耧斗菜、百合花、蝴蝶花的花瓣，可以发现它们花瓣数目具有斐波那契数：3、5、8、13、21、……
其中百合花花瓣数目为3，梅花5瓣，飞燕草8瓣，万寿菊13瓣，向日葵21或34瓣，雏菊有34,55和89三个数目的花瓣</p>

<p><strong>数字谜题</strong></p>

<p>三角形的三边关系定理和斐波那契数列的一个联系：
现有长为144cm的铁丝，要截成n小段（n&gt;2），每段的长度不小于1cm，如果其中任意三小段都不能拼成三角形，则n的最大值为多少？
分析：由于形成三角形的充要条件是任何两边之和大于第三边，因此不构成三角形的条件就是任意两边之和不超过最大边。截成的铁丝最小为1，因此可以放2个1，第三条线段就是2（为了使得n最大，因此要使剩下来的铁丝尽可能长，因此每一条线段总是前面的相邻2段之和），依次为：1、1、2、3、5、8、13、21、34、55，以上各数之和为143，与144相差1，因此可以取最后一段为56，这时n达到最大为10。
我们看到，“每段的长度不小于1”这个条件起了控制全局的作用，正是这个最小数1产生了斐波那契数列，如果把1换成其他数，递推关系保留了，但这个数列消失了。这里，三角形的三边关系定理和斐波那契数列发生了一个联系。
在这个问题中，144&gt;143，这个143是斐波那契数列的前n项和，我们是把144超出143的部分加到最后的一个数上去，如果加到其他数上，就有3条线段可以构成三角形了。</p>

<p><strong>斐波那契—卢卡斯数列</strong></p>

<p>卢卡斯数列1、3、4、7、11、18…，也具有斐波那契数列同样的性质。（我们可称之为斐波那契—卢卡斯递推：从第三项开始，每一项都等于前两项之和f(n) = f(n-1)+ f(n-2）。</p>

<p><strong>排列组合</strong></p>

<p>有一段楼梯有10级台阶，规定每一步只能跨一级或两级，要登上第10级台阶有几种不同的走法?
这就是一个斐波那契数列：登上第一级台阶有一种登法；登上两级台阶，有两种登法；登上三级台阶，有三种登法；登上四级台阶，有五种登法……
1，2，3，5，8，13……所以，登上十级，有89种走法。
类似的，一枚均匀的硬币掷10次，问不连续出现正面的可能情形有多少种？
答案是（1/√5)*{[(1+√5)/2]^(10+2) - [(1-√5)/2]^(10+2)}=144种。
求递推数列a⑴=1，a(n+1)=1+1/a(n）的通项公式
由数学归纳法可以得到：a(n)=F(n+1)/F(n），将斐波那契数列的通项式代入，化简就得结果。</p>

<p><strong>兔子繁殖问题</strong></p>

<p>斐波那契数列又因数学家列昂纳多·斐波那契以兔子繁殖为例子而引入，故又称为“兔子数列”。一般而言，兔子在出生两个月后，就有繁殖能力，一对兔子每个月能生出一对小兔子来。如果所有兔子都不死，那么一年以后可以繁殖多少对兔子？
我们不妨拿新出生的一对小兔子分析一下：第一个月小兔子没有繁殖能力，所以还是一对两个月后，生下一对小兔对数共有两对,三个月以后，老兔子又生下一对，因为小兔子还没有繁殖能力，所以一共是三对－－－－－－
依次类推可以列出下表：
<img src="http://i.imgur.com/zSU3HmG.jpg" alt=""></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">1. 幼仔对数=前月成兔对数
2. 成兔对数=前月成兔对数+前月幼仔对数
3. 总体对数=本月成兔对数+本月幼仔对数
</code></pre></div>
<p>可以看出幼仔对数、成兔对数、总体对数都构成了一个数列。这个数列有关十分明显的特点，那是：前面相邻两项之和，构成了后一项。
这个数列是意大利中世纪数学家斐波那契在&lt;算盘全书&gt;中提出的，这个级数的通项公式，除了具有a(n+2)=an+a(n+1）的性质外，还可以证明通项公式为：an=(1/√5)*{[(1+√5)/2]^n-[(1-√5)/2]^n}（n=1,2,3.....）</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">//Fibonacci Sequence 1(pos=0)、1、2、3、5、8、13、21、34......
int findByIteration(int pos)
{
    if(pos&lt;0) throw invalid_argument(&quot;pos must be non-negative!&quot;);  
    if(pos==1||pos==0) return 1;
        int x1=1,x2=1,x3=0;
        for(int i=2;i&lt;=pos;++i)
        {
            x3=x1+x2;
            if(x3&lt;0) throw runtime_error(&quot;overflow!&quot;);          
            x1=x2;
            x2=x3;
        }   
    return x3;
}

//Fibonacci Sequence 1(pos=0)、1、2、3、5、8、13、21、34......
int findByIterationWithCache(int pos)
{
    if(pos&lt;0) throw invalid_argument(&quot;pos must be non-negative!&quot;);  
    static vector&lt;int&gt; vct={1,1};
    int cachePos=vct.size();    
    if(pos&lt;cachePos) return vct[pos];
    else        
    {       
        int x1=vct[cachePos-2],x2=vct[cachePos-1],x3=0;
        for(int i=cachePos;i&lt;=pos;++i)
        {
            x3=x1+x2;
            if(x3&lt;0) throw runtime_error(&quot;overflow!&quot;); 
            else vct.push_back(x3);
            x1=x2;
            x2=x3;
        }
    }
    return vct[pos];
}
</code></pre></div>
<ul class="pager">
  
  <li class="previous"><a  href="/c++/2014-07/const-member-functions-zh.html" title="常成员函数">&larr; Prev</a></li>
  
  
  <li class="next"><a href="/c++/2014-07/classes-concept.html" title="classes concept">Next &rarr;</a></li>
  
</ul>



</div>

        </div>
      </article>

      <footer class="footer text-center">
  <p>&copy; 2015 <a href="" title="">liuguichao</a>. with Help from <a href="//jekyllrb.com/" title="Transform your plain text into static websites and blogs.">Jekyll</a> and <a href="//getbootstrap.com/" title="Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.">Bootstrap</a></p>
  <p>Articles are licensed under <a href="//creativecommons.org/licenses/by/3.0/" title="CC BY 3.0 License">the CC BY 3.0</a></p>
</footer>

    </div>

    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/webcore.js"></script>

    

    
  </body>
</html>
