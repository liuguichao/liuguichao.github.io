<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Strings - My study notes</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="liuguichao">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="canonical" href="/c++/2015-04/strings.html">

  <link rel="stylesheet" href="/assets/css/style.css" media="all">

  <!-- atom & rss feed -->
  <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="My study notes RSS Feed">
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="My study notes ATOM Feed">

  <!-- fav and touch icons  -->
  <!-- Update these with your own images
  <link rel="shortcut icon" href="images/favicon.ico">
  <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

  <meta name="renderer" content="webkit|ie-stand">

  <meta name="baidu-site-verification" content="BvD3CNBzK6" />
  <meta name="msvalidate.01" content="FE0D1D87A075E1003B82C7446EE360ED" />
</head>


  <body>
    <div class="container">
      <!--[if lt IE 9]>
<div class="alert alert-warning">
  <p>Your Internet Explorer is not supported. Please upgrade your Internet Explorer to version 9+, or use latest <a href="http://www.google.com/chrome/" target="_blank" class="alert-link">Google chrome</a>、<a href="http://www.mozilla.org/firefox/" target="_blank" class="alert-link">Mozilla Firefox</a>.</p>
  <p>If you are using IE 9 or later, make sure you <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view#ie=ie-8" target="_blank" class="alert-link">turn off "Compatibility view"</a>.</p>
</div>
<![endif]-->
<header class="header">
  <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
  <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <div class="title"><a title="My study notes" href="/">My study notes</a></div>
  <ul class="nav navbar-nav collapse navbar-collapse bs-navbar-collapse navbar-right">
    <li>
    <form id="search-form" class="form-group has-success visible-lg" role="form">
      <input type="text" class="form-control input-sm" placeholder="Search" id="query">
    </form>
    </li>
    <li><a href="/archive.html" title="Archive"><span class='fa fa-archive fa-2x'></span></a></li>
    <li><a href="/categories.html" title="Categories" rel="nofollow"><span class='fa fa-navicon fa-2x'></span></a></li>
    <li><a href="/tags.html" title="Tags" rel="nofollow"><span class='fa fa-tags fa-2x'></span></a></li>
    <li><a href="/about.html" title="About"><span class='fa fa-user fa-2x'></span></a></li>
    
    <li><a href="https://github.com/liuguichao" target="_blank" title="Github" rel="nofollow"><span class='fa fa-github fa-2x'></span></a></li>
    
    
    
    
    

    <li><a href="/rss.xml" target="_blank" title="RSS" rel="nofollow"><span class='fa fa-rss fa-2x'></span></a></li>
  </ul>
</header>


      <article class="wrapper">
        <div id="search-loader" class="img-wrap">
          <div class="loading">
            <img src="/assets/img/loading.png">
          </div>
        </div>
        <div class="row clearfix">
          <div class="col-md-12">
<h2 class="title"> Strings <time class="small">2015.04.10</time></h2>
<blockquote>
<p>The.C.Plus.Plus.Standard.Library.A.Tutorial.and.Reference,.Nicolai.M..Josuttis,.2ed,.AW,.2012.pdf</p>
</blockquote>

<h4>Chapter 13 Strings</h4>

<p>Note that with C++98 the type of string literals (such as &quot;hello&quot;) was changed into const char*. </p>

<p>The following statement searches for the first occurrence of a period inside the string filename:
<code>string::size_type idx = filename.find(’.’);</code></p>

<p>If the search fails, a special value is needed to return the failure. That value is <strong>npos</strong>, which is also defined by the string class. Thus, the following line checks whether the search for the period
failed:
<code>if (idx == string::npos)</code></p>

<p>The type and value of npos are a big pitfall for the use of strings. Be very careful that you always use <strong>string::size_type</strong>, not int or unsigned, for the return type when you want to check the
return value of a find function. Otherwise, the comparison with string::npos might not work. </p>

<h6>13.1.2 A Second Example: Extracting Words and Printing Them Backward</h6>

<p>The second example extracts single words from standard input and prints the characters of each word in reverse order. The words are separated by the usual whitespaces (newline, space, and tab) and by
commas, periods, or semicolons:
``` C++
// string/string2.cpp</p>

<h1>include <iostream></h1>

<h1>include <string></h1>

<p>using namespace std;
int main (int argc, char** argv)
{
    const string delims(&quot; \t,.;&quot;);
    string line;
    //for every line read successfully
    while (getline(cin,line)) {
    string::size<em>type begIdx, endIdx;
    //search beginning ofthe first word
    begIdx = line.find</em>first<em>not</em>of(delims);
    //while beginning ofa word found
    while (begIdx != string::npos) {
    //search end ofthe actual word
    endIdx = line.find<em>first</em>of (delims, begIdx);
    if (endIdx == string::npos) {
    //end ofword is end ofline
    endIdx = line.length();
    }
    //print characters in reverse order
    for (int i=endIdx-1; i&gt;=static<em>cast<int>(begIdx); --i) {
    cout &lt;&lt; line[i];
    }
    cout &lt;&lt; ’ ’;
    //search beginning ofthe next word
    begIdx = line.find</em>first<em>not</em>of (delims, endIdx);
    }
    cout &lt;&lt; endl;
    }
}</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Note that for operator [ ] , the number of characters is a valid index, returning a character representing the end of the string. This end-of-string character is initialized by the default constructor of
the character type (’\0’ for class string):
`string s; s[s.length()] //yields ’\0’ `

There are three possible ways to convert the contents of the string into a raw array of characters or C-string:

1. data() and c_str() return the contents of the string as an array of characters. The array
includes the end-of-string character at position [size()] , so for strings, the result is a valid
C-string including ’\0’ .

Note that before C++11, the return type of data() was not a valid C-string, because no ’\0’
character was guaranteed to get appended.

2. copy() copies the contents of the string into a character array provided by the caller. An ’\0’
character is not appended.
</code></pre></div>
<ul class="pager">
  
  <li class="previous"><a  href="/algorithms/2015-04/missing-ranges.html" title="Missing Ranges">&larr; Prev</a></li>
  
  
  <li class="next"><a href="/algorithms/2015-04/longest-palindromic-substring.html" title="Longest Palindromic Substring">Next &rarr;</a></li>
  
</ul>



</div>

        </div>
      </article>

      <footer class="footer text-center">
  <p>&copy; 2015 <a href="" title="">liuguichao</a>. with Help from <a href="//jekyllrb.com/" title="Transform your plain text into static websites and blogs.">Jekyll</a> and <a href="//getbootstrap.com/" title="Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.">Bootstrap</a></p>
  <p>Articles are licensed under <a href="//creativecommons.org/licenses/by/3.0/" title="CC BY 3.0 License">the CC BY 3.0</a></p>
</footer>

    </div>

    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/webcore.js"></script>

    

    
  </body>
</html>
